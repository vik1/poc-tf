{
  "version": 4,
  "terraform_version": "1.6.4",
  "serial": 37,
  "lineage": "f84b4666-441b-6ded-84c4-f7badcda594f",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "azurerm_firewall",
      "name": "fw",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_servers": null,
            "firewall_policy_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/firewallPolicies/example-fwpolicy",
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azfw",
            "ip_configuration": [
              {
                "name": "azfw-ipconfig",
                "private_ip_address": "10.0.2.4",
                "public_ip_address_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/pip-azfw",
                "subnet_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet-test/subnets/AzureFirewallSubnet"
              }
            ],
            "location": "eastus",
            "management_ip_configuration": [],
            "name": "azfw",
            "private_ip_ranges": null,
            "resource_group_name": "rg1",
            "sku_name": "AZFW_VNet",
            "sku_tier": "Standard",
            "tags": null,
            "threat_intel_mode": "Alert",
            "timeouts": null,
            "virtual_hub": [],
            "zones": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall_policy.azfw_policy",
            "azurerm_public_ip.pip_azfw",
            "azurerm_resource_group.rg",
            "azurerm_subnet.AzureFirewallSubnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_firewall_policy",
      "name": "azfw_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_learn_private_ranges_enabled": false,
            "base_policy_id": "",
            "child_policies": [],
            "dns": [],
            "explicit_proxy": [],
            "firewalls": [],
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/firewallPolicies/example-fwpolicy",
            "identity": [],
            "insights": [],
            "intrusion_detection": [],
            "location": "eastus",
            "name": "example-fwpolicy",
            "private_ip_ranges": null,
            "resource_group_name": "rg1",
            "rule_collection_groups": [],
            "sku": "Standard",
            "sql_redirect_allowed": null,
            "tags": null,
            "threat_intelligence_allowlist": [],
            "threat_intelligence_mode": "Alert",
            "timeouts": null,
            "tls_certificate": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_firewall_policy_rule_collection_group",
      "name": "example",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "application_rule_collection": [
              {
                "action": "Deny",
                "name": "app_rule_collection1",
                "priority": 500,
                "rule": [
                  {
                    "description": "",
                    "destination_addresses": null,
                    "destination_fqdn_tags": null,
                    "destination_fqdns": [
                      "*.microsoft.com"
                    ],
                    "destination_urls": null,
                    "http_headers": [],
                    "name": "app_rule_collection1_rule1",
                    "protocols": [
                      {
                        "port": 80,
                        "type": "Http"
                      },
                      {
                        "port": 443,
                        "type": "Https"
                      }
                    ],
                    "source_addresses": [
                      "10.0.1.64/26"
                    ],
                    "source_ip_groups": null,
                    "terminate_tls": false,
                    "web_categories": null
                  }
                ]
              }
            ],
            "firewall_policy_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/firewallPolicies/example-fwpolicy",
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/firewallPolicies/example-fwpolicy/ruleCollectionGroups/example-fwpolicy-rcg",
            "name": "example-fwpolicy-rcg",
            "nat_rule_collection": [
              {
                "action": "Dnat",
                "name": "nat_rule_collection1",
                "priority": 300,
                "rule": [
                  {
                    "description": "",
                    "destination_address": "172.191.35.233",
                    "destination_ports": [
                      "80"
                    ],
                    "name": "nat_rule_collection1_rule1",
                    "protocols": [
                      "TCP",
                      "UDP"
                    ],
                    "source_addresses": [
                      "*"
                    ],
                    "source_ip_groups": null,
                    "translated_address": "10.0.1.4",
                    "translated_fqdn": "",
                    "translated_port": 80
                  }
                ]
              }
            ],
            "network_rule_collection": [],
            "priority": 500,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall_policy.azfw_policy",
            "azurerm_lb.web",
            "azurerm_public_ip.pip_azfw",
            "azurerm_resource_group.rg",
            "azurerm_subnet.web_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb",
      "name": "app",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "edge_zone": "",
            "frontend_ip_configuration": [
              {
                "gateway_load_balancer_frontend_ip_configuration_id": "",
                "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb/frontendIPConfigurations/app-lb-frontend",
                "inbound_nat_rules": [],
                "load_balancer_rules": [],
                "name": "app-lb-frontend",
                "outbound_rules": [],
                "private_ip_address": "10.0.1.68",
                "private_ip_address_allocation": "Static",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "",
                "public_ip_prefix_id": "",
                "subnet_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet-test/subnets/subnet-app",
                "zones": null
              }
            ],
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb",
            "location": "eastus",
            "name": "app-lb",
            "private_ip_address": "10.0.1.68",
            "private_ip_addresses": [
              "10.0.1.68"
            ],
            "resource_group_name": "rg1",
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "edge_zone": "",
            "frontend_ip_configuration": [
              {
                "gateway_load_balancer_frontend_ip_configuration_id": "",
                "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/web-lb/frontendIPConfigurations/LBPublicIPAddress",
                "inbound_nat_rules": [],
                "load_balancer_rules": [],
                "name": "LBPublicIPAddress",
                "outbound_rules": [],
                "private_ip_address": "10.0.1.4",
                "private_ip_address_allocation": "Dynamic",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "",
                "public_ip_prefix_id": "",
                "subnet_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet-test/subnets/subnet-web",
                "zones": null
              }
            ],
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/web-lb",
            "location": "eastus",
            "name": "web-lb",
            "private_ip_address": "10.0.1.4",
            "private_ip_addresses": [
              "10.0.1.4"
            ],
            "resource_group_name": "rg1",
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg",
            "azurerm_subnet.web_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb_backend_address_pool",
      "name": "app-pool",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend_ip_configurations": [],
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb/backendAddressPools/app-lb-backend-pool",
            "inbound_nat_rules": [],
            "load_balancing_rules": [],
            "loadbalancer_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb",
            "name": "app-lb-backend-pool",
            "outbound_rules": [],
            "timeouts": null,
            "tunnel_interface": [],
            "virtual_network_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_lb.app",
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb_backend_address_pool",
      "name": "web-pool",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend_ip_configurations": [],
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/web-lb/backendAddressPools/web-lb-backend-pool",
            "inbound_nat_rules": [],
            "load_balancing_rules": [],
            "loadbalancer_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/web-lb",
            "name": "web-lb-backend-pool",
            "outbound_rules": [],
            "timeouts": null,
            "tunnel_interface": [],
            "virtual_network_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_lb.web",
            "azurerm_resource_group.rg",
            "azurerm_subnet.web_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb_probe",
      "name": "app-probe",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb/probes/app-lb-probe",
            "interval_in_seconds": 15,
            "load_balancer_rules": [],
            "loadbalancer_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb",
            "name": "app-lb-probe",
            "number_of_probes": 2,
            "port": 80,
            "probe_threshold": 1,
            "protocol": "Tcp",
            "request_path": "",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_lb.app",
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb_probe",
      "name": "web-probe",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/web-lb/probes/web-lb-probe",
            "interval_in_seconds": 15,
            "load_balancer_rules": [],
            "loadbalancer_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/web-lb",
            "name": "web-lb-probe",
            "number_of_probes": 2,
            "port": 80,
            "probe_threshold": 1,
            "protocol": "Tcp",
            "request_path": "",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_lb.web",
            "azurerm_resource_group.rg",
            "azurerm_subnet.web_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb_rule",
      "name": "app-rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend_address_pool_ids": [
              "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb/backendAddressPools/app-lb-backend-pool"
            ],
            "backend_port": 80,
            "disable_outbound_snat": true,
            "enable_floating_ip": false,
            "enable_tcp_reset": false,
            "frontend_ip_configuration_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb/frontendIPConfigurations/app-lb-frontend",
            "frontend_ip_configuration_name": "app-lb-frontend",
            "frontend_port": 80,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb/loadBalancingRules/app-lb-rule",
            "idle_timeout_in_minutes": 4,
            "load_distribution": "Default",
            "loadbalancer_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb",
            "name": "app-lb-rule",
            "probe_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb/probes/app-lb-probe",
            "protocol": "Tcp",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_lb.app",
            "azurerm_lb_backend_address_pool.app-pool",
            "azurerm_lb_probe.app-probe",
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb_rule",
      "name": "web-rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend_address_pool_ids": [
              "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/web-lb/backendAddressPools/web-lb-backend-pool"
            ],
            "backend_port": 80,
            "disable_outbound_snat": true,
            "enable_floating_ip": false,
            "enable_tcp_reset": false,
            "frontend_ip_configuration_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/web-lb/frontendIPConfigurations/LBPublicIPAddress",
            "frontend_ip_configuration_name": "LBPublicIPAddress",
            "frontend_port": 80,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/web-lb/loadBalancingRules/web-lb-rule",
            "idle_timeout_in_minutes": 4,
            "load_distribution": "Default",
            "loadbalancer_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/web-lb",
            "name": "web-lb-rule",
            "probe_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/web-lb/probes/web-lb-probe",
            "protocol": "Tcp",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_lb.web",
            "azurerm_lb_backend_address_pool.web-pool",
            "azurerm_lb_probe.web-probe",
            "azurerm_resource_group.rg",
            "azurerm_subnet.web_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_linux_virtual_machine",
      "name": "web-vm",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "additional_capabilities": [],
            "admin_password": "admin@123",
            "admin_ssh_key": [],
            "admin_username": "vikrant",
            "allow_extension_operations": true,
            "availability_set_id": "",
            "boot_diagnostics": [],
            "bypass_platform_safety_checks_on_user_schedule_enabled": false,
            "capacity_reservation_group_id": "",
            "computer_name": "hostname",
            "custom_data": null,
            "dedicated_host_group_id": "",
            "dedicated_host_id": "",
            "disable_password_authentication": false,
            "edge_zone": "",
            "encryption_at_host_enabled": false,
            "eviction_policy": "",
            "extensions_time_budget": "PT1H30M",
            "gallery_application": [],
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Compute/virtualMachines/web-1",
            "identity": [],
            "license_type": "",
            "location": "eastus",
            "max_bid_price": -1,
            "name": "web-1",
            "network_interface_ids": [
              "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-web-1"
            ],
            "os_disk": [
              {
                "caching": "ReadWrite",
                "diff_disk_settings": [],
                "disk_encryption_set_id": "",
                "disk_size_gb": 30,
                "name": "osDisk-web-1",
                "secure_vm_disk_encryption_set_id": "",
                "security_encryption_type": "",
                "storage_account_type": "Premium_LRS",
                "write_accelerator_enabled": false
              }
            ],
            "patch_assessment_mode": "ImageDefault",
            "patch_mode": "ImageDefault",
            "plan": [],
            "platform_fault_domain": -1,
            "priority": "Regular",
            "private_ip_address": "10.0.1.5",
            "private_ip_addresses": [
              "10.0.1.5"
            ],
            "provision_vm_agent": true,
            "proximity_placement_group_id": "",
            "public_ip_address": "172.191.35.207",
            "public_ip_addresses": [
              "172.191.35.207"
            ],
            "reboot_setting": "",
            "resource_group_name": "rg1",
            "secret": [],
            "secure_boot_enabled": false,
            "size": "Standard_B1s",
            "source_image_id": "",
            "source_image_reference": [
              {
                "offer": "0001-com-ubuntu-server-jammy",
                "publisher": "Canonical",
                "sku": "22_04-lts-gen2",
                "version": "latest"
              }
            ],
            "tags": null,
            "termination_notification": null,
            "timeouts": null,
            "user_data": "",
            "virtual_machine_id": "51e40cd3-7dfa-454e-9387-7fdf06c739e2",
            "virtual_machine_scale_set_id": "",
            "vtpm_enabled": false,
            "zone": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJkZWxldGUiOjI3MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoyNzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_network_interface.web-vm-nic",
            "azurerm_public_ip.my_terraform_public_ip",
            "azurerm_resource_group.rg",
            "azurerm_subnet.web_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface",
      "name": "nic",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "applied_dns_servers": [],
            "auxiliary_mode": "",
            "auxiliary_sku": "",
            "dns_servers": [],
            "edge_zone": "",
            "enable_accelerated_networking": false,
            "enable_ip_forwarding": false,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-app-1",
            "internal_dns_name_label": "",
            "internal_domain_name_suffix": "dfgxwlcy1znulajxfvzwwdmxmb.bx.internal.cloudapp.net",
            "ip_configuration": [
              {
                "gateway_load_balancer_frontend_ip_configuration_id": "",
                "name": "ipconfig",
                "primary": true,
                "private_ip_address": "10.0.1.70",
                "private_ip_address_allocation": "Dynamic",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "",
                "subnet_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet-test/subnets/subnet-app"
              }
            ],
            "location": "eastus",
            "mac_address": "",
            "name": "nic-app-1",
            "private_ip_address": "10.0.1.70",
            "private_ip_addresses": [
              "10.0.1.70"
            ],
            "resource_group_name": "rg1",
            "tags": null,
            "timeouts": null,
            "virtual_machine_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "applied_dns_servers": [],
            "auxiliary_mode": "",
            "auxiliary_sku": "",
            "dns_servers": [],
            "edge_zone": "",
            "enable_accelerated_networking": false,
            "enable_ip_forwarding": false,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-app-2",
            "internal_dns_name_label": "",
            "internal_domain_name_suffix": "dfgxwlcy1znulajxfvzwwdmxmb.bx.internal.cloudapp.net",
            "ip_configuration": [
              {
                "gateway_load_balancer_frontend_ip_configuration_id": "",
                "name": "ipconfig",
                "primary": true,
                "private_ip_address": "10.0.1.69",
                "private_ip_address_allocation": "Dynamic",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "",
                "subnet_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet-test/subnets/subnet-app"
              }
            ],
            "location": "eastus",
            "mac_address": "",
            "name": "nic-app-2",
            "private_ip_address": "10.0.1.69",
            "private_ip_addresses": [
              "10.0.1.69"
            ],
            "resource_group_name": "rg1",
            "tags": null,
            "timeouts": null,
            "virtual_machine_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface",
      "name": "web-vm-nic",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "applied_dns_servers": [],
            "auxiliary_mode": "",
            "auxiliary_sku": "",
            "dns_servers": [],
            "edge_zone": "",
            "enable_accelerated_networking": false,
            "enable_ip_forwarding": false,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-web-1",
            "internal_dns_name_label": "",
            "internal_domain_name_suffix": "dfgxwlcy1znulajxfvzwwdmxmb.bx.internal.cloudapp.net",
            "ip_configuration": [
              {
                "gateway_load_balancer_frontend_ip_configuration_id": "",
                "name": "ipconfig-web-1",
                "primary": true,
                "private_ip_address": "10.0.1.5",
                "private_ip_address_allocation": "Dynamic",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/web-vm-PublicIP",
                "subnet_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet-test/subnets/subnet-web"
              }
            ],
            "location": "eastus",
            "mac_address": "",
            "name": "nic-web-1",
            "private_ip_address": "10.0.1.5",
            "private_ip_addresses": [
              "10.0.1.5"
            ],
            "resource_group_name": "rg1",
            "tags": null,
            "timeouts": null,
            "virtual_machine_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_public_ip.my_terraform_public_ip",
            "azurerm_resource_group.rg",
            "azurerm_subnet.web_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface_backend_address_pool_association",
      "name": "app",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "backend_address_pool_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb/backendAddressPools/app-lb-backend-pool",
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-app-1/ipConfigurations/ipconfig|/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb/backendAddressPools/app-lb-backend-pool",
            "ip_configuration_name": "ipconfig",
            "network_interface_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-app-1",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_lb.app",
            "azurerm_lb_backend_address_pool.app-pool",
            "azurerm_network_interface.nic",
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "backend_address_pool_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb/backendAddressPools/app-lb-backend-pool",
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-app-2/ipConfigurations/ipconfig|/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/app-lb/backendAddressPools/app-lb-backend-pool",
            "ip_configuration_name": "ipconfig",
            "network_interface_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-app-2",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_lb.app",
            "azurerm_lb_backend_address_pool.app-pool",
            "azurerm_network_interface.nic",
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface_backend_address_pool_association",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "backend_address_pool_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/web-lb/backendAddressPools/web-lb-backend-pool",
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-web-1/ipConfigurations/ipconfig-web-1|/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/loadBalancers/web-lb/backendAddressPools/web-lb-backend-pool",
            "ip_configuration_name": "ipconfig-web-1",
            "network_interface_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-web-1",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_lb.web",
            "azurerm_lb_backend_address_pool.web-pool",
            "azurerm_network_interface.web-vm-nic",
            "azurerm_public_ip.my_terraform_public_ip",
            "azurerm_resource_group.rg",
            "azurerm_subnet.web_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface_security_group_association",
      "name": "example",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-app-1|/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkSecurityGroups/vm-nsg",
            "network_interface_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-app-1",
            "network_security_group_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkSecurityGroups/vm-nsg",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_network_interface.nic",
            "azurerm_network_security_group.my_terraform_nsg",
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-app-2|/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkSecurityGroups/vm-nsg",
            "network_interface_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-app-2",
            "network_security_group_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkSecurityGroups/vm-nsg",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_network_interface.nic",
            "azurerm_network_security_group.my_terraform_nsg",
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface_security_group_association",
      "name": "example1",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-web-1|/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkSecurityGroups/web-nsg",
            "network_interface_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-web-1",
            "network_security_group_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkSecurityGroups/web-nsg",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_network_interface.web-vm-nic",
            "azurerm_network_security_group.web-vm-nsg",
            "azurerm_public_ip.my_terraform_public_ip",
            "azurerm_resource_group.rg",
            "azurerm_subnet.web_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "my_terraform_nsg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkSecurityGroups/vm-nsg",
            "location": "eastus",
            "name": "vm-nsg",
            "resource_group_name": "rg1",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "3389",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "RDP",
                "priority": 1000,
                "protocol": "*",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "80",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "web",
                "priority": 1001,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "web-vm-nsg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkSecurityGroups/web-nsg",
            "location": "eastus",
            "name": "web-nsg",
            "resource_group_name": "rg1",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "22",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "SSH",
                "priority": 1001,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "80",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "web",
                "priority": 1002,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "my_terraform_public_ip",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/web-vm-PublicIP",
            "idle_timeout_in_minutes": 4,
            "ip_address": "172.191.35.207",
            "ip_tags": null,
            "ip_version": "IPv4",
            "location": "eastus",
            "name": "web-vm-PublicIP",
            "public_ip_prefix_id": null,
            "resource_group_name": "rg1",
            "reverse_fqdn": null,
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": null,
            "timeouts": null,
            "zones": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "pip_azfw",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/pip-azfw",
            "idle_timeout_in_minutes": 4,
            "ip_address": "172.191.35.233",
            "ip_tags": null,
            "ip_version": "IPv4",
            "location": "eastus",
            "name": "pip-azfw",
            "public_ip_prefix_id": null,
            "resource_group_name": "rg1",
            "reverse_fqdn": null,
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": null,
            "timeouts": null,
            "zones": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "rg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1",
            "location": "eastus",
            "managed_by": "",
            "name": "rg1",
            "tags": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "AzureFirewallSubnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.0.2.0/26"
            ],
            "delegation": [],
            "enforce_private_link_endpoint_network_policies": false,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet-test/subnets/AzureFirewallSubnet",
            "name": "AzureFirewallSubnet",
            "private_endpoint_network_policies_enabled": true,
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg1",
            "service_endpoint_policy_ids": null,
            "service_endpoints": null,
            "timeouts": null,
            "virtual_network_name": "vnet-test"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "app_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.0.1.64/26"
            ],
            "delegation": [],
            "enforce_private_link_endpoint_network_policies": false,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet-test/subnets/subnet-app",
            "name": "subnet-app",
            "private_endpoint_network_policies_enabled": true,
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg1",
            "service_endpoint_policy_ids": null,
            "service_endpoints": null,
            "timeouts": null,
            "virtual_network_name": "vnet-test"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "web_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.0.1.0/26"
            ],
            "delegation": [],
            "enforce_private_link_endpoint_network_policies": false,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet-test/subnets/subnet-web",
            "name": "subnet-web",
            "private_endpoint_network_policies_enabled": true,
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg1",
            "service_endpoint_policy_ids": null,
            "service_endpoints": null,
            "timeouts": null,
            "virtual_network_name": "vnet-test"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_machine_extension",
      "name": "vmext",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "auto_upgrade_minor_version": false,
            "automatic_upgrade_enabled": false,
            "failure_suppression_enabled": false,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Compute/virtualMachines/web-1/extensions/test-vmext",
            "name": "test-vmext",
            "protected_settings": "    {\n        \"script\": \"IyEvYmluL2Jhc2gKY2F0IDw8RU9GID4+IC9ob21lL3Zpa3JhbnQvZndkLnB5CmltcG9ydCBzeXMKaW1wb3J0IHRpbWUKaW1wb3J0IHNvY2tldAppbXBvcnQgc2VsZWN0CgojIFNvY2tldCBvcHRpb25zCmRlbGF5ID0gMC4wMDAxCmJ1ZmZlcl9zaXplID0gNDA5NgoKIyBQcm94eSBvcHRpb25zCnByb3h5UG9ydCA9IDgwCnByb3h5QmluZGluZyA9ICcwLjAuMC4wJwpwcm94eUZvcndhcmRUbyA9ICgnMTAuMC4xLjY4JywgODApCnByb3h5QXV0aGVudGljYXRpb24gPSBGYWxzZSAjIFJlLWltcGxlbWVudCBhdXRoZW50aWNhdGUoKSBhbmQgdmVyaWZ5VXNlckFjY291bnQoKSwgaWYgdXNlZCEKCgpjbGFzcyBBdXRoZW50aWNhdGU6CiAgICAjCiAgICAjIFRoaXMgQXV0aGVudGljYXRlIGltcGxlbWVudGF0aW9uIHdvcmtzIHdpdGggMiBwYXJhbWV0ZXJzOgogICAgIyAtIDIgVVJMLWFyZ3VtZW50cyAodW5hbWUgPSBVc2VyIG5hbWUsIHVwYXNzID0gVXNlciBQYXNzd29yZCkKICAgICMgU2FtcGxlLVVSTDogaHR0cDovLzE5Mi4xNjguMS4xNzo5ODAwLz91bmFtZT1hZG1pbiZ1cGFzcz10ZXN0MTIzNAogICAgIwoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmF1dGhlbnRpY2F0ZWQgPSBGYWxzZQoKICAgIGRlZiBhdXRoZW50aWNhdGUoc2VsZiwgY2xpZW50c29jaywgY2xpZW50YWRkcik6CiAgICAgICAgcGF0aCA9IHNlbGYuZ2V0SFRUUFBhdGgoY2xpZW50c29jaykKICAgICAgICB1bmFtZSA9IHNlbGYuZ2V0VU5hbWVGcm9tSFRUUFBhdGgocGF0aCkKICAgICAgICB1cGFzcyA9IHNlbGYuZ2V0VVBhc3NGcm9tSFRUUFBhdGgocGF0aCkKCiAgICAgICAgaWYgc2VsZi52ZXJpZnlVc2VyQWNjb3VudCh1bmFtZSwgdXBhc3MsIGNsaWVudGFkZHJbMF0pOgogICAgICAgICAgICBzZWxmLmF1dGhlbnRpY2F0ZWQgPSBUcnVlCiAgICAgICAgICAgIHByaW50KCJDbGllbnQiLCBjbGllbnRhZGRyLCAiYXV0aGVudGljYXRlZCIpCgogICAgICAgIHJldHVybiBzZWxmLmF1dGhlbnRpY2F0ZWQKICAgICMKICAgICMgVE9ETyBSZS1pbXBsZW1lbnQgdGhpcyBtZXRob2QsIGlmIHlvdSB1c2UgYXV0aGVudGljYXRpb24hCiAgICBkZWYgdmVyaWZ5VXNlckFjY291bnQoc2VsZiwgdW5hbWUsIHVwYXNzLCBjbGllbnRJcCk6CiAgICAgICAgcmV0dXJuIHVuYW1lID09ICdhZG1pbicgYW5kIHVwYXNzID09ICd0ZXN0MTIzNCcKCiAgICAjIFJldHVybnMgdGhlIGNhbGxlZCBVUkkgZnJvbSBodHRwLXJlcXVlc3QKICAgIGRlZiBnZXRIVFRQUGF0aChzZWxmLCBjbGllbnQpOgogICAgICAgIHRyeToKICAgICAgICAgICAgcmVxID0gY2xpZW50LnJlY3YoNDA5NikKICAgICAgICAgICAgcGF0aCA9IHJlcS5zcGxpdCgpWzFdCiAgICAgICAgICAgIHJldHVybiBwYXRoCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChlKQogICAgICAgICAgICByZXR1cm4gJycKCiAgICAjIEV4dHJhY3QgYXJndW1lbnQgdW5hbWUgZnJvbSB0aGUgY2FsbGVkIFVSSQogICAgZGVmIGdldFVOYW1lRnJvbUhUVFBQYXRoKHNlbGYsIHBhdGgpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdW5hbWUgPSBwYXRoW3BhdGgucmZpbmQoJ3VuYW1lPScpKzY6cGF0aC5yZmluZCgnJnVwYXNzPScpXQogICAgICAgICAgICByZXR1cm4gdW5hbWUKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGUpCiAgICAgICAgICAgIHJldHVybiAnJwoKICAgICMgRXh0cmFjdCBhcmd1bWVudCB1cGFzcyBmcm9tIHRoZSBjYWxsZWQgVVJJCiAgICBkZWYgZ2V0VVBhc3NGcm9tSFRUUFBhdGgoc2VsZiwgcGF0aCk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB1aWQgPSBwYXRoW3BhdGgucmZpbmQoJ3VwYXNzPScpKzY6XQogICAgICAgICAgICByZXR1cm4gdWlkCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChlKQogICAgICAgICAgICByZXR1cm4gJycKCgpjbGFzcyBGb3J3YXJkOgoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmZvcndhcmQgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19TVFJFQU0pCgogICAgZGVmIHN0YXJ0KHNlbGYsIGhvc3QsIHBvcnQpOgogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5mb3J3YXJkLmNvbm5lY3QoKGhvc3QsIHBvcnQpKQogICAgICAgICAgICBwcmludCgiRm9yd2FyZCIsIFtob3N0LCBwb3J0XSwgImNvbm5lY3RlZCIpCiAgICAgICAgICAgIHJldHVybiBzZWxmLmZvcndhcmQKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGUpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKCmNsYXNzIFByb3h5OgoKICAgIGlucHV0X2xpc3QgPSBbXQogICAgY2hhbm5lbCA9IHt9CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGhvc3QsIHBvcnQpOgogICAgICAgIHNlbGYuc2VydmVyID0gc29ja2V0LnNvY2tldChzb2NrZXQuQUZfSU5FVCwgc29ja2V0LlNPQ0tfU1RSRUFNKQogICAgICAgIHNlbGYuc2VydmVyLnNldHNvY2tvcHQoc29ja2V0LlNPTF9TT0NLRVQsIHNvY2tldC5TT19SRVVTRUFERFIsIDEpCiAgICAgICAgc2VsZi5zZXJ2ZXIuYmluZCgoaG9zdCwgcG9ydCkpCiAgICAgICAgc2VsZi5zZXJ2ZXIubGlzdGVuKDIwMCkKCiAgICBkZWYgbWFpbl9sb29wKHNlbGYpOgogICAgICAgIHNlbGYuaW5wdXRfbGlzdC5hcHBlbmQoc2VsZi5zZXJ2ZXIpCiAgICAgICAgd2hpbGUgMToKICAgICAgICAgICAgdGltZS5zbGVlcChkZWxheSkKICAgICAgICAgICAgc3MgPSBzZWxlY3Quc2VsZWN0CiAgICAgICAgICAgIGlucHV0cmVhZHksIG91dHB1dHJlYWR5LCBleGNlcHRyZWFkeSA9IHNzKHNlbGYuaW5wdXRfbGlzdCwgW10sIFtdKQogICAgICAgICAgICBmb3Igc2VsZi5zIGluIGlucHV0cmVhZHk6CiAgICAgICAgICAgICAgICBpZiBzZWxmLnMgPT0gc2VsZi5zZXJ2ZXI6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5vbl9hY2NlcHQoKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHNlbGYuZGF0YSA9IHNlbGYucy5yZWN2KGJ1ZmZlcl9zaXplKQogICAgICAgICAgICAgICAgICAgIGlmIGxlbihzZWxmLmRhdGEpID09IDA6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub25fY2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub25fcmVjdigpCgogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgIHByaW50KGUpCiAgICAgICAgICAgICAgICAgICAgc2VsZi5vbl9jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKCiAgICBkZWYgb25fYWNjZXB0KHNlbGYpOgogICAgICAgIGNsaWVudHNvY2ssIGNsaWVudGFkZHIgPSBzZWxmLnNlcnZlci5hY2NlcHQoKQoKICAgICAgICBhdXRoZW50aWNhdGVkID0gbm90IHByb3h5QXV0aGVudGljYXRpb24KICAgICAgICBpZiBub3QgYXV0aGVudGljYXRlZDoKICAgICAgICAgICAgYXV0aGVudGljYXRlZCA9IEF1dGhlbnRpY2F0ZSgpLmF1dGhlbnRpY2F0ZShjbGllbnRzb2NrLCBjbGllbnRhZGRyKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KCJDb25uZWN0aW5nIGNsaWVudCIsIGNsaWVudGFkZHIsICJ3aXRob3V0IGF1dGhlbnRpY2F0aW9uIikKCiAgICAgICAgaWYgYXV0aGVudGljYXRlZDoKICAgICAgICAgICAgZm9yd2FyZCA9IEZvcndhcmQoKS5zdGFydChwcm94eUZvcndhcmRUb1swXSwgcHJveHlGb3J3YXJkVG9bMV0pCiAgICAgICAgICAgIGlmIGZvcndhcmQ6CiAgICAgICAgICAgICAgICBwcmludCgiQ2xpZW50IiwgY2xpZW50YWRkciwgImNvbm5lY3RlZCIpCiAgICAgICAgICAgICAgICBzZWxmLmlucHV0X2xpc3QuYXBwZW5kKGNsaWVudHNvY2spCiAgICAgICAgICAgICAgICBzZWxmLmlucHV0X2xpc3QuYXBwZW5kKGZvcndhcmQpCiAgICAgICAgICAgICAgICBzZWxmLmNoYW5uZWxbY2xpZW50c29ja10gPSBmb3J3YXJkCiAgICAgICAgICAgICAgICBzZWxmLmNoYW5uZWxbZm9yd2FyZF0gPSBjbGllbnRzb2NrCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmludCgiQ2FuJ3QgZXN0YWJsaXNoIGNvbm5lY3Rpb24gd2l0aCByZW1vdGUgc2VydmVyIikKICAgICAgICAgICAgICAgIHByaW50KCJDbG9zaW5nIGNvbm5lY3Rpb24gd2l0aCBjbGllbnQiLCBjbGllbnRhZGRyKQogICAgICAgICAgICAgICAgY2xpZW50c29jay5jbG9zZSgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoIkNsaWVudCIsIGNsaWVudGFkZHIsICJub3QgYXV0aGVudGljYXRlZCIpCiAgICAgICAgICAgIHByaW50KCJSZWplY3RpbmcgY29ubmVjdGlvbiBmcm9tIiwgY2xpZW50YWRkcikKICAgICAgICAgICAgY2xpZW50c29jay5jbG9zZSgpCgogICAgZGVmIG9uX2Nsb3NlKHNlbGYpOgogICAgICAgIHRyeToKICAgICAgICAgICAgcHJpbnQoc2VsZi5zLmdldHBlZXJuYW1lKCksICJkaXNjb25uZWN0ZWQiKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICAgICAgcHJpbnQoIkNsaWVudCBjbG9zZWQiKQoKICAgICAgICBzZWxmLmlucHV0X2xpc3QucmVtb3ZlKHNlbGYucykKICAgICAgICBzZWxmLmlucHV0X2xpc3QucmVtb3ZlKHNlbGYuY2hhbm5lbFtzZWxmLnNdKQogICAgICAgIG91dCA9IHNlbGYuY2hhbm5lbFtzZWxmLnNdCiAgICAgICAgc2VsZi5jaGFubmVsW291dF0uY2xvc2UoKSAgIyBlcXVpdmFsZW50IHRvIGRvIHNlbGYucy5jbG9zZSgpCiAgICAgICAgc2VsZi5jaGFubmVsW3NlbGYuc10uY2xvc2UoKQogICAgICAgIGRlbCBzZWxmLmNoYW5uZWxbb3V0XQogICAgICAgIGRlbCBzZWxmLmNoYW5uZWxbc2VsZi5zXQoKICAgIGRlZiBvbl9yZWN2KHNlbGYpOgogICAgICAgIGRhdGEgPSBzZWxmLmRhdGEKICAgICAgICAjIHByaW50IGRhdGEKICAgICAgICBzZWxmLmNoYW5uZWxbc2VsZi5zXS5zZW5kKGRhdGEpCgoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKCiAgICBwcmludCgnICogUEZQIDEuMCA9LScpCiAgICBwcmludCgnICogUG9ydCBGb3J3YXJkaW5nIFByb3h5JykKICAgIHByb3h5ID0gUHJveHkocHJveHlCaW5kaW5nLCBwcm94eVBvcnQpCiAgICBwcmludCgnICogTGlzdGVuaW5nIG9uOiAnICsgc3RyKHByb3h5QmluZGluZykgKyAnIDogJyArIHN0cihwcm94eVBvcnQpKQogICAgcHJpbnQoJyAqIEZvcndhcmRpbmcgdG86ICcgKyBzdHIocHJveHlGb3J3YXJkVG9bMF0pICsgJyA6ICcgKyBzdHIocHJveHlGb3J3YXJkVG9bMV0pKQogICAgaWYgcHJveHlBdXRoZW50aWNhdGlvbjoKICAgICAgICBwcmludCgnICogQXV0aGVudGljYXRpb246IGVuYWJsZWQnKQogICAgZWxzZToKICAgICAgICBwcmludCgnICogQXV0aGVudGljYXRpb246IGRpc2FibGVkJykKICAgIHRyeToKICAgICAgICBwcm94eS5tYWluX2xvb3AoKQogICAgZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgogICAgICAgIHByaW50KCJDdHJsIEMgLSBTdG9wcGluZyBzZXJ2ZXIiKQogICAgICAgIHN5cy5leGl0KDEpCkVPRgoKZWNobyAnSGVsbG8gZnJvbSBsb2NhbC1leGVjIHByb3Zpc2lvbmVyJyA+PiB+L3Rlc3QudHh0ICAmJiAgcHl0aG9uMyAvaG9tZS92aWtyYW50L2Z3ZC5weSAmCg==\"\n    }\n",
            "protected_settings_from_key_vault": [],
            "provision_after_extensions": null,
            "publisher": "Microsoft.Azure.Extensions",
            "settings": null,
            "tags": null,
            "timeouts": null,
            "type": "CustomScript",
            "type_handler_version": "2.0",
            "virtual_machine_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Compute/virtualMachines/web-1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_linux_virtual_machine.web-vm",
            "azurerm_network_interface.web-vm-nic",
            "azurerm_public_ip.my_terraform_public_ip",
            "azurerm_resource_group.rg",
            "azurerm_subnet.web_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_machine_extension",
      "name": "web_server_install",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "auto_upgrade_minor_version": true,
            "automatic_upgrade_enabled": false,
            "failure_suppression_enabled": false,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Compute/virtualMachines/app-1/extensions/app-1-wsi",
            "name": "app-1-wsi",
            "protected_settings": null,
            "protected_settings_from_key_vault": [],
            "provision_after_extensions": null,
            "publisher": "Microsoft.Compute",
            "settings": "{\"commandToExecute\":\"powershell -ExecutionPolicy Unrestricted Install-WindowsFeature -Name Web-Server -IncludeManagementTools \\u0026\\u0026 powershell -ExecutionPolicy Unrestricted Add-Content -Path \\\"C:\\\\inetpub\\\\wwwroot\\\\iisstart.htm\\\" -Value $(\\\"Hello World from \\\" + $env:computername)\"}",
            "tags": null,
            "timeouts": null,
            "type": "CustomScriptExtension",
            "type_handler_version": "1.8",
            "virtual_machine_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Compute/virtualMachines/app-1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_network_interface.nic",
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network",
            "azurerm_windows_virtual_machine.vmi"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "auto_upgrade_minor_version": true,
            "automatic_upgrade_enabled": false,
            "failure_suppression_enabled": false,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Compute/virtualMachines/app-2/extensions/app-2-wsi",
            "name": "app-2-wsi",
            "protected_settings": null,
            "protected_settings_from_key_vault": [],
            "provision_after_extensions": null,
            "publisher": "Microsoft.Compute",
            "settings": "{\"commandToExecute\":\"powershell -ExecutionPolicy Unrestricted Install-WindowsFeature -Name Web-Server -IncludeManagementTools \\u0026\\u0026 powershell -ExecutionPolicy Unrestricted Add-Content -Path \\\"C:\\\\inetpub\\\\wwwroot\\\\iisstart.htm\\\" -Value $(\\\"Hello World from \\\" + $env:computername)\"}",
            "tags": null,
            "timeouts": null,
            "type": "CustomScriptExtension",
            "type_handler_version": "1.8",
            "virtual_machine_id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Compute/virtualMachines/app-2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_network_interface.nic",
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network",
            "azurerm_windows_virtual_machine.vmi"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "my_terraform_network",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "10.0.0.0/16"
            ],
            "bgp_community": "",
            "ddos_protection_plan": [],
            "dns_servers": [],
            "edge_zone": "",
            "encryption": [],
            "flow_timeout_in_minutes": 0,
            "guid": "2c7b4d19-de58-455b-8137-2d736b0d9761",
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet-test",
            "location": "eastus",
            "name": "vnet-test",
            "resource_group_name": "rg1",
            "subnet": [],
            "tags": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_windows_virtual_machine",
      "name": "vmi",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "additional_capabilities": [],
            "additional_unattend_content": [],
            "admin_password": "admin@123",
            "admin_username": "vikrant",
            "allow_extension_operations": true,
            "availability_set_id": "",
            "boot_diagnostics": [],
            "bypass_platform_safety_checks_on_user_schedule_enabled": false,
            "capacity_reservation_group_id": "",
            "computer_name": "app-1",
            "custom_data": null,
            "dedicated_host_group_id": "",
            "dedicated_host_id": "",
            "edge_zone": "",
            "enable_automatic_updates": true,
            "encryption_at_host_enabled": false,
            "eviction_policy": "",
            "extensions_time_budget": "PT1H30M",
            "gallery_application": [],
            "hotpatching_enabled": false,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Compute/virtualMachines/app-1",
            "identity": [],
            "license_type": "",
            "location": "eastus",
            "max_bid_price": -1,
            "name": "app-1",
            "network_interface_ids": [
              "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-app-1"
            ],
            "os_disk": [
              {
                "caching": "ReadWrite",
                "diff_disk_settings": [],
                "disk_encryption_set_id": "",
                "disk_size_gb": 127,
                "name": "os-disk-app-1",
                "secure_vm_disk_encryption_set_id": "",
                "security_encryption_type": "",
                "storage_account_type": "Standard_LRS",
                "write_accelerator_enabled": false
              }
            ],
            "patch_assessment_mode": "ImageDefault",
            "patch_mode": "AutomaticByOS",
            "plan": [],
            "platform_fault_domain": -1,
            "priority": "Regular",
            "private_ip_address": "10.0.1.70",
            "private_ip_addresses": [
              "10.0.1.70"
            ],
            "provision_vm_agent": true,
            "proximity_placement_group_id": "",
            "public_ip_address": "",
            "public_ip_addresses": [],
            "reboot_setting": "",
            "resource_group_name": "rg1",
            "secret": [],
            "secure_boot_enabled": false,
            "size": "Standard_DS1_v2",
            "source_image_id": "",
            "source_image_reference": [
              {
                "offer": "WindowsServer",
                "publisher": "MicrosoftWindowsServer",
                "sku": "2022-datacenter-azure-edition",
                "version": "latest"
              }
            ],
            "tags": null,
            "termination_notification": null,
            "timeouts": null,
            "timezone": "",
            "user_data": "",
            "virtual_machine_id": "33f0522d-b0c7-4ee6-bdcc-1a0bfe34dacf",
            "virtual_machine_scale_set_id": "",
            "vtpm_enabled": false,
            "winrm_listener": [],
            "zone": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJkZWxldGUiOjI3MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoyNzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_network_interface.nic",
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "additional_capabilities": [],
            "additional_unattend_content": [],
            "admin_password": "admin@123",
            "admin_username": "vikrant",
            "allow_extension_operations": true,
            "availability_set_id": "",
            "boot_diagnostics": [],
            "bypass_platform_safety_checks_on_user_schedule_enabled": false,
            "capacity_reservation_group_id": "",
            "computer_name": "app-2",
            "custom_data": null,
            "dedicated_host_group_id": "",
            "dedicated_host_id": "",
            "edge_zone": "",
            "enable_automatic_updates": true,
            "encryption_at_host_enabled": false,
            "eviction_policy": "",
            "extensions_time_budget": "PT1H30M",
            "gallery_application": [],
            "hotpatching_enabled": false,
            "id": "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Compute/virtualMachines/app-2",
            "identity": [],
            "license_type": "",
            "location": "eastus",
            "max_bid_price": -1,
            "name": "app-2",
            "network_interface_ids": [
              "/subscriptions/2731039a-6e64-4e36-89d2-2b56169c81bc/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/nic-app-2"
            ],
            "os_disk": [
              {
                "caching": "ReadWrite",
                "diff_disk_settings": [],
                "disk_encryption_set_id": "",
                "disk_size_gb": 127,
                "name": "os-disk-app-2",
                "secure_vm_disk_encryption_set_id": "",
                "security_encryption_type": "",
                "storage_account_type": "Standard_LRS",
                "write_accelerator_enabled": false
              }
            ],
            "patch_assessment_mode": "ImageDefault",
            "patch_mode": "AutomaticByOS",
            "plan": [],
            "platform_fault_domain": -1,
            "priority": "Regular",
            "private_ip_address": "10.0.1.69",
            "private_ip_addresses": [
              "10.0.1.69"
            ],
            "provision_vm_agent": true,
            "proximity_placement_group_id": "",
            "public_ip_address": "",
            "public_ip_addresses": [],
            "reboot_setting": "",
            "resource_group_name": "rg1",
            "secret": [],
            "secure_boot_enabled": false,
            "size": "Standard_DS1_v2",
            "source_image_id": "",
            "source_image_reference": [
              {
                "offer": "WindowsServer",
                "publisher": "MicrosoftWindowsServer",
                "sku": "2022-datacenter-azure-edition",
                "version": "latest"
              }
            ],
            "tags": null,
            "termination_notification": null,
            "timeouts": null,
            "timezone": "",
            "user_data": "",
            "virtual_machine_id": "7c9d9aa4-f458-4905-a3e1-cf7ddf4d40f8",
            "virtual_machine_scale_set_id": "",
            "vtpm_enabled": false,
            "winrm_listener": [],
            "zone": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJkZWxldGUiOjI3MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoyNzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_network_interface.nic",
            "azurerm_resource_group.rg",
            "azurerm_subnet.app_subnet",
            "azurerm_virtual_network.my_terraform_network"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_id",
      "name": "random_id",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "b64_std": "AaJgDA1Ijm0=",
            "b64_url": "AaJgDA1Ijm0",
            "byte_length": 8,
            "dec": "117762145143787117",
            "hex": "01a2600c0d488e6d",
            "id": "AaJgDA1Ijm0",
            "keepers": {
              "resource_group": "rg1"
            },
            "prefix": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "azurerm_resource_group.rg"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
